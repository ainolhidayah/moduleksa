<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 1 - Kesedaran EKSA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Teko:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; overflow: hidden; }
        h1, h2, h3 { font-family: 'Teko', sans-serif; }
        
        .slide-enter { animation: slideIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Card Flip */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }

        /* Timer Pulse */
        .timer-pulse { animation: pulseRed 1s infinite; }
        @keyframes pulseRed { 0% { color: white; } 50% { color: #ef4444; } 100% { color: white; } }

        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        .custom-scroll::-webkit-scrollbar-thumb { background: #10b981; border-radius: 3px; }
        
        /* Custom Animations */
        .spin-slow { animation: spin 8s linear infinite; }
        .bounce-slow { animation: bounce 3s infinite; }
        .pulse-fast { animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes bounce { 0%, 100% { transform: translateY(-10%); } 50% { transform: translateY(0); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }

        /* Flow Animation for Summary */
        .flow-line {
            stroke-dasharray: 20;
            animation: flow 2s linear infinite;
        }
        @keyframes flow { to { stroke-dashoffset: -40; } }

        .fade-in-delayed { opacity: 0; animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

    </style>
</head>
<body class="bg-slate-50 text-slate-800 transition-colors duration-500" id="mainBody">

    <!-- Header -->
    <div class="absolute top-0 left-0 w-full p-6 flex justify-between items-center z-20 pointer-events-none">
        <div class="bg-white/90 backdrop-blur border border-emerald-200 px-4 py-2 rounded-lg shadow-sm">
            <div class="text-xs font-bold text-emerald-600 tracking-wider">MODUL 1: PENGENALAN</div>
            <div class="text-sm font-semibold text-slate-700" id="slideCounter">SLAID 1</div>
        </div>
        <div class="flex gap-1 pointer-events-auto" id="progressBar"></div>
    </div>

    <!-- Main Content -->
    <main class="w-full h-screen px-4 md:px-16 flex flex-col justify-center relative z-10 pt-16 pb-20" id="slideContainer">
        <!-- Content injected via JS -->
    </main>

    <!-- Navigation -->
    <div class="absolute bottom-0 left-0 w-full p-6 flex justify-between items-center z-20 pointer-events-none">
        <a href="index.html" class="pointer-events-auto flex items-center gap-2 px-6 py-3 rounded-lg font-bold text-slate-500 hover:bg-slate-200 transition-all text-sm">
            <i data-lucide="home" width="18"></i> Menu
        </a>
        <div class="flex gap-4">
            <button onclick="prevSlide()" id="btnPrev" class="pointer-events-auto flex items-center gap-2 px-6 py-3 rounded-lg font-bold hover:bg-white transition-all disabled:opacity-30 disabled:cursor-not-allowed bg-white/50 border border-slate-200 shadow-sm">
                <i data-lucide="arrow-left"></i>
            </button>
            <button onclick="nextSlide()" id="btnNext" class="pointer-events-auto flex items-center gap-2 px-8 py-3 rounded-lg font-bold bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg hover:-translate-y-1 transition-all">
                SETERUSNYA <i data-lucide="arrow-right"></i>
            </button>
        </div>
    </div>

    <script>
        // Data Kuiz 20 Soalan
        const bigQuiz = [
            { q: "Apakah maksud sebenar istilah 'MUDA' dalam pengurusan LEAN?", a: "Pembaziran (Waste)", options: ["Keuntungan", "Pembaziran (Waste)", "Tenaga Muda", "Inovasi"] },
            { q: "Berapa tempoh masa ideal untuk mencari fail?", a: "30 SAAT", options: ["1 Minit", "30 Saat", "5 Minit", "10 Saat"] },
            { q: "Bilakah EKSA diperkenalkan?", a: "Januari 2014", options: ["Januari 2010", "Januari 2012", "Januari 2014", "Januari 2020"] },
            { q: "Apakah elemen tambahan utama EKSA berbanding 5S?", a: "Imej Korporat", options: ["Keselamatan", "Imej Korporat", "Keceriaan", "Disiplin"] },
            { q: "Apakah maksud 'Tag Merah'?", a: "Barang rosak / perlu lupus", options: ["Barang baru", "Barang rosak / perlu lupus", "Barang kerap guna", "Barang peribadi"] },
            { q: "Suhu penyaman udara yang disarankan untuk penjimatan tenaga?", a: "24°C - 26°C", options: ["16°C - 18°C", "20°C - 22°C", "24°C - 26°C", "28°C - 30°C"] },
            { q: "Siapakah yang mengetuai pemantauan di peringkat Zon?", a: "Ketua Zon", options: ["Ketua Jabatan", "Ketua Zon", "Fasilitator", "Pegawai Aset"] },
            { q: "Apakah tindakan untuk 'Tag Kuning'?", a: "Simpan sementara (KIV)", options: ["Buang terus", "Simpan sementara (KIV)", "Jual", "Baiki sendiri"] },
            { q: "Di manakah fail aktif sepatutnya disimpan?", a: "Kawasan mudah dicapai", options: ["Dalam stor", "Kawasan mudah dicapai", "Di rumah", "Di bawah meja"] },
            { q: "Apakah maksud SEISO?", a: "Sapu", options: ["Sisih", "Susun", "Sapu", "Seragam"] },
            { q: "Apakah contoh pembaziran 'Pergerakan'?", a: "Printer jauh dari meja", options: ["Printer jauh dari meja", "Banyak fail", "Tandas kotor", "Lampu terang"] },
            { q: "Bagaimana melupuskan bahan mengandungi ayat Al-Quran?", a: "Pusat Pelupusan Islam", options: ["Tong kitar semula", "Tong sampah biasa", "Pusat Pelupusan Islam", "Bakar sendiri"] },
            { q: "Apa itu 'Shadow Board'?", a: "Papan tanda bentuk alatan", options: ["Papan kenyataan", "Papan tanda bentuk alatan", "Papan putih", "Papan hitam"] },
            { q: "Berapakah kategori tong kitar semula yang biasa?", a: "3 (Kertas, Plastik, Kaca)", options: ["1", "2", "3", "5"] },
            { q: "Amalan 'Go Green' bertujuan untuk?", a: "Kelestarian & Penjimatan", options: ["Kecantikan", "Kelestarian & Penjimatan", "Syarat audit", "Hobi"] },
            { q: "Apakah maksud SHITSUKE?", a: "Sentiasa Amal", options: ["Seragam", "Sentiasa Amal", "Susun", "Sisih"] },
            { q: "Bolehkah barang peribadi diletakkan di atas meja kerja?", a: "Minimum (Satu bingkai gambar)", options: ["Boleh banyak", "Tidak boleh langsung", "Minimum (Satu bingkai gambar)", "Ikut suka"] },
            { q: "Apakah kaedah susunan fail yang baik?", a: "Ikut nombor indeks & label", options: ["Ikut saiz", "Ikut warna kegemaran", "Ikut nombor indeks & label", "Ikut tarikh beli"] },
            { q: "Apakah peranan Jawatankuasa Audit?", a: "Menilai & memberi markah", options: ["Mengemas", "Menilai & memberi markah", "Membeli barang", "Membuat dasar"] },
            { q: "Apakah kesan utama pelaksanaan EKSA?", a: "Peningkatan Produktiviti", options: ["Gaji naik", "Peningkatan Produktiviti", "Kerja bertambah", "Pejabat cantik"] }
        ];

        let quizTimerInterval;
        let currentQuizIndex = 0;
        let quizScore = 0;

        const slides = [
            // 1. TAJUK
            {
                type: "title",
                title: "KESEDARAN & PENGENALAN EKSA",
                subtitle: "Transformasi Minda & Budaya Kerja",
                desc: "Modul 1: Asas Kecemerlangan",
                bg: "bg-emerald-50"
            },
            
            // 2. HOOK: KEHIDUPAN SEHARIAN
            {
                type: "hook_time_dark",
                title: "KEHIDUPAN SEHARIAN KITA",
                bg: "bg-[#0f172a]", 
                text: "text-white"
            },

             // 3. TRANSFORMASI AINA
             {
                type: "aina_transformation",
                title: "TRANSFORMASI MEJA AINA",
                subtitle: "Impak Pelaksanaan 5S",
                bg: "bg-indigo-50",
                imageBefore: "Meja_Aina_Bersepah.jpg",
                imageAfter: "Meja_Aina_Kemas.jpg"
            },

            // 4. IMPAK PRODUKTIVITI
            {
                type: "productivity_calc",
                title: "BERAPA BANYAK MASA DIBAZIRKAN?",
                subtitle: "Kalkulator 'Mencari Fail'",
                bg: "bg-white"
            },
            
            // 5. APA ITU EKSA?
            {
                type: "what_is_eksa",
                title: "APA ITU EKSA?",
                bg: "bg-[#1e293b]",
                text: "text-white"
            },

            // 6. VIDEO INTRO
            {
                type: "video_slot",
                title: "VIDEO: EVOLUSI 5S KE EKSA",
                subtitle: "Fahami Perubahan",
                videoSrc: "Video_Intro_EKSA.mp4",
                bg: "bg-black",
                text: "text-white"
            },

            // --- BAHAGIAN 5S ---
            // 7. INTRO 5S
            {
                type: "five_s_overview_flip_image",
                title: "KEMBALI KE ASAS: 5S",
                subtitle: "Klik Kad Untuk Lihat Gambar & Info",
                bg: "bg-emerald-900",
                text: "text-white"
            },

            // 8. GALERI 5S (GAMBAR UNTUK SEMUA)
            {
                type: "gallery_5s_mixed",
                title: "CONTOH AMALAN 5S",
                subtitle: "Visualisasi Konsep & Pelaksanaan",
                bg: "bg-slate-100",
                media: [
                    { t: "SISIH", ph: "Video_Sisih.mp4", type: "video" },
                    { t: "SUSUN", ph: "Video_Susun.mp4", type: "video" },
                    { t: "SAPU", ph: "Video_Sapu.mp4", type: "video" },
                    { t: "SERAGAM", ph: "Gambar_Fail_Seragam_Susun_Atur.jpg", type: "image" }, 
                    { t: "SENTIASA AMAL", ph: "Gambar_Sesi_Audit_Zon.jpg", type: "image" }
                ]
            },

            // 9. S1 & S2 (FLIP CARD)
            {
                type: "flip_s1_s2",
                title: "PERINCIAN: SISIH & SUSUN",
                subtitle: "Klik Kad Untuk Info Lanjut",
                bg: "bg-blue-50"
            },

            // 10. S3, S4, S5 (FLIP CARD)
            {
                type: "flip_s3_s4_s5",
                title: "PERINCIAN: SAPU, SERAGAM & AMAL",
                subtitle: "Klik Kad Untuk Info Lanjut",
                bg: "bg-indigo-50"
            },
            
            // 11. VISUAL SERAGAM & AMAL (JANA GAMBAR)
            {
                type: "generated_visuals_s4_s5",
                title: "VISUAL: SERAGAM & SENTIASA AMAL",
                subtitle: "Gambaran Konsep",
                bg: "bg-slate-50"
            },

            // --- BAHAGIAN ELEMEN TAMBAHAN ---
            // 12. ELEMEN 1: IMEJ KORPORAT (ACCORDION)
            {
                type: "interactive_corporate_accordion",
                title: "ELEMEN 1: IMEJ KORPORAT",
                subtitle: "Identiti Agensi Yang Profesional",
                bg: "bg-slate-800",
                text: "text-white",
                imagePlaceholder: "Gambar_Lobi_Korporat.jpg"
            },

            // 13. ELEMEN 2: AMALAN HIJAU (EDITED: FLASH CARDS)
            {
                type: "green_flashcards",
                title: "ELEMEN 2: AMALAN HIJAU",
                subtitle: "Klik Kad Untuk Lihat Info",
                bg: "bg-green-50"
            },
            
             // 14. ELEMEN 3: KREATIVITI & INOVASI
            {
                type: "element_creativity",
                title: "ELEMEN 3: KREATIVITI & INOVASI",
                subtitle: "Solusi Pintar & Jimat Kos",
                bg: "bg-orange-50",
                imagePlaceholder: "Gambar_Inovasi_Kreatif.jpg"
            },
            
            // 15. VIDEO KREATIVITI
            {
                type: "video_slot_creativity",
                title: "VIDEO: CONTOH INOVASI KREATIF",
                subtitle: "Lihat Idea Luar Kotak",
                videoSrc: "Video_Inovasi_EKSA.mp4",
                bg: "bg-orange-900",
                text: "text-white"
            },

            // 16. KUIZ PENAMAT (20 SOALAN, 10 MINIT)
            {
                type: "big_quiz",
                title: "UJIAN MINDA AKHIR",
                subtitle: "20 Soalan | 10 Minit",
                bg: "bg-indigo-900",
                text: "text-white"
            },
            
            // 17. RUMUSAN MODUL 1 (INFOGRAFIK ROADMAP BARU & DIBETULKAN)
            {
                type: "summary_roadmap_animated",
                title: "RUMUSAN MODUL 1",
                subtitle: "Perjalanan Transformasi (Slot 1.1 - 1.3)",
                bg: "bg-slate-900",
                text: "text-white"
            },

            // 18. PENUTUP
            {
                type: "closing",
                title: "ANDA SUDAH BERSEDIA?",
                subtitle: "Ke Modul 2: Pelaksanaan Fizikal",
                bg: "bg-emerald-950",
                text: "text-white"
            }
        ];

        let currentSlide = 0;

        function renderSlide() {
            const slide = slides[currentSlide];
            const container = document.getElementById('slideContainer');
            const body = document.getElementById('mainBody');
            
            body.className = `w-full h-screen flex flex-col transition-colors duration-500 font-sans ${slide.bg} ${slide.text || 'text-slate-800'}`;

            if (slide.type !== 'big_quiz' && quizTimerInterval) {
                clearInterval(quizTimerInterval);
            }

            let html = '';

            // --- 1. TITLE ---
            if (slide.type === 'title') {
                html = `
                <div class="flex flex-col items-center text-center slide-enter px-4">
                    <div class="mb-8 p-8 bg-emerald-100 rounded-full border-4 border-emerald-200 animate-bounce-slow">
                        <i data-lucide="sprout" width="100" height="100" class="text-emerald-600"></i>
                    </div>
                    <h1 class="text-7xl md:text-9xl font-bold uppercase mb-4 text-emerald-800 leading-none drop-shadow-sm">${slide.title}</h1>
                    <div class="h-2 w-32 bg-emerald-500 mb-6 rounded-full"></div>
                    <h2 class="text-2xl md:text-3xl font-light tracking-widest uppercase text-slate-600">${slide.subtitle}</h2>
                    <p class="mt-6 bg-white px-6 py-2 rounded-full shadow-md text-emerald-700 font-bold border border-emerald-100">${slide.desc}</p>
                </div>`;
            }

            // --- 2. HOOK TIME (DESIGN SEPERTI IMEJ 38798) ---
            else if (slide.type === 'hook_time_dark') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter text-center px-4 w-full max-w-6xl mx-auto">
                    <h2 class="text-5xl font-black mb-12 text-white uppercase tracking-tighter">KEHIDUPAN SEHARIAN KITA</h2>
                    
                    <div class="flex flex-col md:flex-row gap-6 w-full justify-center items-stretch">
                        <!-- Rumah Card -->
                        <div class="bg-[#1e293b] p-10 rounded-2xl border border-slate-700 w-full md:w-1/3 flex flex-col items-center justify-center shadow-lg transform hover:-translate-y-2 transition-transform">
                            <i data-lucide="moon" width="64" height="64" class="text-blue-400 mb-6"></i>
                            <h3 class="text-xl font-bold text-slate-300 mb-2 uppercase">RUMAH / TIDUR</h3>
                            <p class="text-6xl font-black text-slate-200 mb-2">15 JAM</p>
                            <p class="text-sm text-slate-500">Baki Masa</p>
                        </div>

                        <!-- Pejabat Card (Highlighted) -->
                        <div class="bg-[#064e3b] p-10 rounded-2xl border-4 border-[#10b981] w-full md:w-1/3 flex flex-col items-center justify-center relative shadow-2xl overflow-hidden group transform scale-105">
                            <div class="absolute top-0 right-0 bg-[#10b981] text-white text-xs font-bold px-4 py-1 rounded-bl-lg">FOKUS UTAMA</div>
                            <i data-lucide="briefcase" width="64" height="64" class="text-[#34d399] mb-6 group-hover:scale-110 transition-transform"></i>
                            <h3 class="text-xl font-bold text-white mb-2 uppercase">PEJABAT</h3>
                            <p class="text-6xl font-black text-white mb-2">9 JAM</p>
                            <p class="text-sm text-emerald-200 font-medium">(Termasuk 1 Jam Rehat)</p>
                        </div>
                    </div>
                    
                    <div class="mt-12 bg-white/5 p-6 rounded-xl border-l-4 border-[#10b981] max-w-3xl text-left">
                        <p class="text-lg italic text-slate-300">"Kita habiskan <strong>1/3 hidup</strong> kita di pejabat. Jika pejabat bersepah, hidup kita pun serabut. EKSA menjadikan 9 jam ini berkualiti."</p>
                    </div>
                </div>`;
            }

            // ... (Kekalkan kod untuk slaid 3 hingga 16 sama seperti sebelumnya)
             else if (slide.type === 'aina_transformation') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4 overflow-y-auto py-8">
                    <h2 class="text-5xl font-bold mb-8 text-indigo-900">TRANSFORMASI MEJA AINA</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full items-center">
                        <div class="relative group cursor-pointer hover:scale-105 transition-transform duration-500">
                            <div class="absolute top-4 left-4 bg-red-600 text-white font-black px-4 py-1 rounded-lg z-10 shadow-lg border-2 border-white transform -rotate-6 text-xl">SEBELUM (BERSEPAH)</div>
                            <div class="w-full h-80 bg-red-100 rounded-2xl overflow-hidden border-4 border-red-300 shadow-xl flex items-center justify-center relative">
                                <div class="w-full h-full bg-slate-300 flex flex-col items-center justify-center text-slate-500">
                                     <i data-lucide="image-off" class="w-16 h-16 mb-2"></i>
                                     <span class="font-bold">GAMBAR MEJA BERSEPAH</span>
                                     <span class="text-xs">(Sila upload gambar: '${slide.imageBefore}')</span>
                                </div>
                            </div>
                            <div class="mt-4 bg-white p-4 rounded-xl border-l-4 border-red-500 shadow-sm">
                                <p class="text-sm text-slate-600"><strong class="text-red-600">ISU:</strong> Fail bertimbun, cawan kopi lama, wayar berserabut.</p>
                            </div>
                        </div>
                        <div class="relative group cursor-pointer hover:scale-105 transition-transform duration-500">
                            <div class="absolute top-4 left-4 bg-emerald-600 text-white font-black px-4 py-1 rounded-lg z-10 shadow-lg border-2 border-white transform rotate-3 text-xl">SELEPAS (EKSA)</div>
                            <div class="w-full h-80 bg-emerald-100 rounded-2xl overflow-hidden border-4 border-emerald-300 shadow-xl flex items-center justify-center relative">
                                <div class="w-full h-full bg-slate-300 flex flex-col items-center justify-center text-slate-500">
                                     <i data-lucide="image" class="w-16 h-16 mb-2"></i>
                                     <span class="font-bold">GAMBAR MEJA KEMAS</span>
                                     <span class="text-xs">(Sila upload gambar: '${slide.imageAfter}')</span>
                                </div>
                            </div>
                            <div class="mt-4 bg-white p-4 rounded-xl border-l-4 border-emerald-500 shadow-sm">
                                <p class="text-sm text-slate-600"><strong class="text-emerald-600">SOLUSI:</strong> Meja kosong, label laci, wayar diikat.</p>
                            </div>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'productivity_calc') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-5xl mx-auto px-4">
                    <h2 class="text-5xl font-bold mb-8 text-slate-800">KALKULATOR PEMBAZIRAN MASA</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 w-full items-center">
                        <div class="bg-white p-8 rounded-2xl shadow-xl border border-slate-200 space-y-6">
                            <div>
                                <label class="block text-sm font-bold text-slate-600 mb-2">Masa Mencari Fail (Minit/Hari)</label>
                                <input type="range" id="searchTime" min="1" max="60" value="15" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-red-500" oninput="updateCalc()">
                                <p class="text-right text-red-600 font-bold mt-1"><span id="timeVal">15</span> Minit</p>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-slate-600 mb-2">Bilangan Staf</label>
                                <input type="range" id="staffCount" min="1" max="50" value="10" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500" oninput="updateCalc()">
                                <p class="text-right text-blue-600 font-bold mt-1"><span id="staffVal">10</span> Orang</p>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="bg-red-100 p-8 rounded-full w-64 h-64 flex flex-col items-center justify-center mx-auto border-4 border-red-200 animate-pulse">
                                <span class="text-slate-500 text-sm font-bold uppercase">Jam Terbazir / Tahun</span>
                                <h3 class="text-6xl font-black text-red-600" id="totalLost">600</h3>
                                <span class="text-red-800 font-bold text-lg">JAM</span>
                            </div>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'what_is_eksa') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter text-center px-4 w-full max-w-4xl mx-auto">
                    <div class="bg-[#1e293b] p-12 rounded-3xl border border-slate-600 shadow-2xl relative overflow-hidden">
                        <div class="absolute inset-0 bg-[linear-gradient(rgba(30,41,59,0.9),rgba(30,41,59,0.9)),url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"></div>
                        <div class="relative z-10">
                            <h2 class="text-5xl font-serif text-white mb-8">APA ITU EKSA?</h2>
                            <p class="text-lg text-slate-300 leading-relaxed mb-8">
                                Ekosistem Kondusif Sektor Awam (EKSA) diperkenalkan pada Januari 2014. Ia bukan sekadar "mengemas meja", tetapi satu sistem pengurusan persekitaran kerja yang berkualiti untuk meningkatkan produktiviti dan imej korporat.
                            </p>
                            <button onclick="nextSlide()" class="text-blue-400 font-bold tracking-widest text-sm hover:text-white transition-colors border-b-2 border-blue-400 pb-1">
                                EVOLUSI DARIPADA AMALAN 5S
                            </button>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'video_slot') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-5xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-6 text-white">${slide.title}</h2>
                    <div class="w-full bg-black rounded-xl overflow-hidden shadow-2xl border border-slate-700 relative aspect-video flex items-center justify-center group">
                        <div class="absolute inset-0 flex flex-col items-center justify-center bg-slate-900">
                            <div class="w-20 h-20 bg-emerald-600 rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform shadow-lg shadow-emerald-500/50">
                                <i data-lucide="play" class="w-10 h-10 text-white fill-white ml-1"></i>
                            </div>
                            <p class="text-slate-400 mt-6 font-mono text-sm">Sila muat naik video: <span class="text-white font-bold">'${slide.videoSrc}'</span> ke GitHub</p>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'five_s_overview_flip_image') {
                const s = [
                    { l: "S1", t: "SISIH", d: "Buang yang tak perlu", c: "red", img: "Gambar_Sisih.jpg" },
                    { l: "S2", t: "SUSUN", d: "Setiap barang ada tempat", c: "blue", img: "Gambar_Susun.jpg" },
                    { l: "S3", t: "SAPU", d: "Cuci dan periksa", c: "green", img: "Gambar_Sapu.jpg" },
                    { l: "S4", t: "SERAGAM", d: "Piawai", c: "purple", img: "Gambar_Seragam.jpg" },
                    { l: "S5", t: "SENTIASA AMAL", d: "Disiplin & Budaya", c: "yellow", img: "Gambar_Amal.jpg" }
                ];
                
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4">
                    <h2 class="text-6xl font-bold mb-4 text-white">TERAS UTAMA: 5S</h2>
                    <p class="text-emerald-200 mb-12 text-xl">Klik kad untuk lihat gambar sebenar.</p>
                    <div class="flex justify-center items-center gap-4 w-full flex-wrap">
                        ${s.map((i, idx) => `
                        <div class="w-48 h-72 perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                             <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-${i.c}-600 rounded-xl flex flex-col items-center justify-center text-center shadow-2xl border-4 border-${i.c}-400">
                                    <span class="text-6xl font-black text-white/20 absolute top-2 left-4">${idx + 1}</span>
                                    <h3 class="text-3xl font-black text-white mb-2 relative z-10 p-2 leading-tight">${i.t}</h3>
                                    <p class="text-sm text-${i.c}-100 relative z-10 px-2 font-medium">${i.d}</p>
                                    <p class="text-xs text-white mt-4 animate-bounce bg-black/20 px-2 py-1 rounded">KLIK LIHAT GAMBAR</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-900 rounded-xl flex flex-col items-center justify-center p-2 rotate-y-180 shadow-xl border-4 border-${i.c}-500 overflow-hidden">
                                    <div class="w-full h-full bg-slate-200 flex items-center justify-center text-slate-400 text-xs text-center">
                                        <div class="flex flex-col items-center">
                                            <i data-lucide="image" class="w-8 h-8 mb-1"></i>
                                            <span>${i.img}</span>
                                        </div>
                                    </div>
                                </div>
                             </div>
                        </div>
                        `).join('')}
                    </div>
                </div>`;
            } else if (slide.type === 'gallery_5s_mixed') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4 overflow-y-auto">
                    <h2 class="text-5xl font-bold mb-8 text-slate-800">${slide.title}</h2>
                    <div class="flex gap-4 w-full overflow-x-auto pb-6 px-2 justify-center">
                        ${slide.media.map((item, idx) => {
                            let content = `
                            <div class="flex flex-col items-center gap-2 absolute">
                                <i data-lucide="${item.type === 'video' ? 'film' : 'image'}" class="w-8 h-8"></i>
                                <span class="text-xs text-center">${item.ph}</span>
                            </div>`;
                            return `
                            <div class="flex-shrink-0 w-64 h-80 bg-white rounded-xl shadow-lg border-2 border-slate-200 flex flex-col items-center justify-center p-4">
                                <div class="w-full h-48 bg-slate-200 rounded-lg flex items-center justify-center text-slate-400 mb-4 border-2 border-dashed border-slate-300 relative overflow-hidden group">
                                    ${content}
                                    ${item.type === 'video' ? `<div class="absolute inset-0 bg-black/50 hidden group-hover:flex items-center justify-center"><i data-lucide="play-circle" class="text-white w-12 h-12"></i></div>` : ''}
                                </div>
                                <h3 class="font-bold text-slate-700 text-center">Contoh S${idx + 1}: ${item.t}</h3>
                            </div>`;
                        }).join('')}
                    </div>
                </div>`;
            } else if (slide.type === 'flip_s1_s2') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-6xl mx-auto px-4 overflow-y-auto">
                    <h2 class="text-5xl font-bold text-blue-900 mb-8">${slide.title}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full">
                        <div class="relative h-80 w-full perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-red-600 rounded-2xl flex flex-col justify-center items-center text-center shadow-xl border-4 border-red-400 p-6">
                                    <i data-lucide="trash-2" class="w-16 h-16 text-white mb-4"></i>
                                    <h3 class="text-4xl font-bold text-white mb-2">S1: SISIH</h3>
                                    <p class="text-red-100 mt-2 font-medium">Asingkan & Buang. <br> Klik untuk Prosedur.</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-800 rounded-2xl p-6 rotate-y-180 shadow-xl border-4 border-red-500 flex flex-col justify-center text-left">
                                    <h4 class="font-bold text-red-600 mb-2 border-b pb-1">KATEGORI PELUPUSAN:</h4>
                                    <ul class="text-sm space-y-2 list-disc ml-4 font-medium">
                                        <li><strong>Sampah Domestik:</strong> Tong Sampah.</li>
                                        <li><strong>Aset Kerajaan:</strong> Lapor Pegawai Aset.</li>
                                        <li><strong>Bahan Al-Quran:</strong> Pusat Pelupusan Islam.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="relative h-80 w-full perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-blue-600 rounded-2xl flex flex-col justify-center items-center text-center shadow-xl border-4 border-blue-400 p-6">
                                    <i data-lucide="layout-grid" class="w-16 h-16 text-white mb-4"></i>
                                    <h3 class="text-4xl font-bold text-white mb-2">S2: SUSUN</h3>
                                    <p class="text-blue-100 mt-2 font-medium">Teratur & Cepat. <br> Klik untuk Strategi.</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-800 rounded-2xl p-6 rotate-y-180 shadow-xl border-4 border-blue-500 flex flex-col justify-center text-left">
                                    <h4 class="font-bold text-blue-600 mb-2 border-b pb-1">STRATEGI 30 SAAT:</h4>
                                    <ul class="text-sm space-y-2 list-disc ml-4 font-medium">
                                        <li><strong>Kerap:</strong> Atas meja / Laci atas.</li>
                                        <li><strong>Kadang:</strong> Almari berdekatan.</li>
                                        <li><strong>Jarang:</strong> Stor / Bilik Fail.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'flip_s3_s4_s5') {
                 html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4 overflow-y-auto">
                    <h2 class="text-5xl font-bold text-indigo-900 mb-8">${slide.title}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full">
                        <div class="relative h-72 w-full perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-green-600 rounded-2xl flex flex-col justify-center items-center p-4 border-4 border-green-400">
                                    <h3 class="text-3xl font-bold text-white">S3: SAPU</h3>
                                    <p class="text-green-100 text-sm mt-2">Klik Info</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-800 rounded-2xl p-4 rotate-y-180 border-4 border-green-500 flex flex-col justify-center">
                                    <p class="font-bold mb-2 text-green-700">INSPECTION</p>
                                    <p class="text-sm">Membersih sambil memeriksa kerosakan.</p>
                                </div>
                            </div>
                        </div>
                        <div class="relative h-72 w-full perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-purple-600 rounded-2xl flex flex-col justify-center items-center p-4 border-4 border-purple-400">
                                    <h3 class="text-3xl font-bold text-white">S4: SERAGAM</h3>
                                    <p class="text-purple-100 text-sm mt-2">Klik Info</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-800 rounded-2xl p-4 rotate-y-180 border-4 border-purple-500 flex flex-col justify-center">
                                    <p class="font-bold mb-2 text-purple-700">PIAWAIAN / SOP</p>
                                    <p class="text-sm">Wujudkan standard visual. Label & warna fail konsisten.</p>
                                </div>
                            </div>
                        </div>
                        <div class="relative h-72 w-full perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <div class="absolute w-full h-full backface-hidden bg-yellow-500 rounded-2xl flex flex-col justify-center items-center p-4 border-4 border-yellow-300">
                                    <h3 class="text-3xl font-bold text-white text-center leading-none">S5:<br>SENTIASA AMAL</h3>
                                    <p class="text-yellow-100 text-sm mt-2">Klik Info</p>
                                </div>
                                <div class="absolute w-full h-full backface-hidden bg-white text-slate-800 rounded-2xl p-4 rotate-y-180 border-4 border-yellow-500 flex flex-col justify-center">
                                    <p class="font-bold mb-2 text-yellow-700">BUDAYA</p>
                                    <p class="text-sm">Audit kendiri & disiplin berterusan.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'generated_visuals_s4_s5') {
                 html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-6xl mx-auto px-4 overflow-y-auto">
                    <h2 class="text-4xl font-bold mb-8 text-slate-800">VISUALISASI KONSEP</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 w-full items-stretch">
                         <div class="bg-white p-6 rounded-2xl shadow-lg border-2 border-purple-200">
                            <h3 class="text-xl font-bold text-purple-800 mb-4 text-center">KONSEP SERAGAM (FILES)</h3>
                            <div class="flex justify-center items-end h-40 gap-1 bg-slate-100 p-4 rounded-lg border-b-4 border-slate-300">
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm"></div>
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm relative"><div class="absolute top-4 left-0 right-0 h-2 bg-purple-500"></div></div>
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm relative"><div class="absolute top-4 left-0 right-0 h-2 bg-purple-500"></div></div>
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm relative"><div class="absolute top-4 left-0 right-0 h-2 bg-purple-500"></div></div>
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm relative"><div class="absolute top-4 left-0 right-0 h-2 bg-purple-500"></div></div>
                                <div class="w-8 h-32 bg-white border border-slate-300 rounded-t shadow-sm"></div>
                            </div>
                            <p class="text-center text-xs text-purple-600 mt-2">Garisan Seragam pada Fail</p>
                         </div>
                         <div class="bg-white p-6 rounded-2xl shadow-lg border-2 border-yellow-200">
                            <h3 class="text-xl font-bold text-yellow-800 mb-4 text-center">KITARAN SENTIASA AMAL</h3>
                            <div class="flex justify-center items-center h-40">
                                <div class="relative w-32 h-32 rounded-full border-4 border-dashed border-yellow-500 flex items-center justify-center animate-spin-slow">
                                    <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-1 rounded-full"><i data-lucide="check" class="text-yellow-600"></i></div>
                                    <div class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 bg-white p-1 rounded-full"><i data-lucide="refresh-cw" class="text-yellow-600"></i></div>
                                </div>
                            </div>
                         </div>
                    </div>
                </div>`;
            } else if (slide.type === 'interactive_corporate_accordion') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-5xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-8 text-white">ELEMEN 1: IMEJ KORPORAT</h2>
                    <div class="w-full bg-slate-800 rounded-2xl overflow-hidden shadow-2xl border border-slate-600">
                        <div class="border-b border-slate-700">
                            <button onclick="document.getElementById('acc1').classList.toggle('hidden')" class="w-full p-4 text-left flex items-center justify-between hover:bg-slate-700 transition-colors">
                                <span class="font-bold text-blue-300 flex items-center gap-3"><i data-lucide="building" class="w-5 h-5"></i> IDENTITI AGENSI</span>
                                <i data-lucide="chevron-down" class="text-slate-400"></i>
                            </button>
                            <div id="acc1" class="hidden p-4 bg-slate-900 text-slate-300 text-sm border-t border-slate-700">
                                Warna korporat jabatan ditonjolkan. Logo dan piagam pelanggan jelas. Pakaian staf yang kemas.
                            </div>
                        </div>
                        <div class="border-b border-slate-700">
                            <button onclick="document.getElementById('acc2').classList.toggle('hidden')" class="w-full p-4 text-left flex items-center justify-between hover:bg-slate-700 transition-colors">
                                <span class="font-bold text-blue-300 flex items-center gap-3"><i data-lucide="layout-grid" class="w-5 h-5"></i> KESERAGAMAN</span>
                                <i data-lucide="chevron-down" class="text-slate-400"></i>
                            </button>
                            <div id="acc2" class="hidden p-4 bg-slate-900 text-slate-300 text-sm border-t border-slate-700">
                                Bukan perabot mahal, tapi susunan seragam. Etika kaunter profesional.
                            </div>
                        </div>
                        <div class="p-6 bg-slate-900 flex justify-center">
                             <div class="w-64 h-40 bg-slate-800 rounded-lg flex flex-col items-center justify-center text-slate-500 border border-slate-700 border-dashed">
                                 <i data-lucide="image" class="w-8 h-8 mb-2"></i>
                                 <span class="text-xs">${slide.imagePlaceholder}</span>
                             </div>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'green_flashcards') {
                const cards = [
                    { title: "KITAR SEMULA", icon: "recycle", desc: "Tong 3 Warna: Asingkan Kertas, Plastik, Kaca.", color: "emerald" },
                    { title: "PENJIMATAN", icon: "zap", desc: "Tutup suis & Set suhu aircond 24°C.", color: "yellow" },
                    { title: "INOVASI", icon: "sprout", desc: "Guna semula bahan terbuang untuk kegunaan pejabat.", color: "green" }
                ];

                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-8 text-emerald-800">${slide.title}</h2>
                    <div class="flex flex-wrap justify-center gap-6 w-full">
                        ${cards.map(card => `
                        <div class="w-64 h-80 perspective-1000 group cursor-pointer" onclick="this.querySelector('.card-inner').classList.toggle('rotate-y-180')">
                            <div class="card-inner relative w-full h-full transition-transform duration-700 transform-style-3d">
                                <!-- Front -->
                                <div class="absolute w-full h-full backface-hidden bg-white rounded-2xl flex flex-col items-center justify-center shadow-xl border-b-8 border-${card.color}-500 p-6">
                                    <div class="w-24 h-24 bg-${card.color}-100 rounded-full flex items-center justify-center mb-6">
                                        <i data-lucide="${card.icon}" class="w-12 h-12 text-${card.color}-600"></i>
                                    </div>
                                    <h3 class="text-xl font-black text-slate-700 uppercase tracking-wider">${card.title}</h3>
                                    <p class="text-xs text-slate-400 mt-2 font-semibold">KLIK UNTUK INFO</p>
                                </div>
                                <!-- Back -->
                                <div class="absolute w-full h-full backface-hidden bg-${card.color}-600 text-white rounded-2xl flex flex-col items-center justify-center p-6 rotate-y-180 shadow-xl text-center">
                                    <i data-lucide="${card.icon}" class="w-12 h-12 text-white/20 mb-4"></i>
                                    <p class="text-lg font-bold leading-relaxed">${card.desc}</p>
                                </div>
                            </div>
                        </div>
                        `).join('')}
                    </div>
                </div>`;
            } else if (slide.type === 'element_creativity') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-6xl mx-auto px-4 text-center">
                    <h2 class="text-4xl font-bold mb-10 text-orange-600">ELEMEN 3: KREATIVITI & INOVASI</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 w-full items-center">
                        <div class="space-y-6 text-left">
                             <div class="bg-orange-100 p-6 rounded-xl border border-orange-200">
                                <h3 class="text-xl font-bold text-orange-800 mb-2 flex items-center gap-2"><i data-lucide="lightbulb" class="w-6 h-6"></i> IDEA LUAR KOTAK</h3>
                                <p class="text-slate-700 font-medium">Mencari penyelesaian baharu untuk masalah lama. Inovasi yang meningkatkan kecekapan.</p>
                            </div>
                            <div class="bg-orange-100 p-6 rounded-xl border border-orange-200">
                                <h3 class="text-xl font-bold text-orange-800 mb-2 flex items-center gap-2"><i data-lucide="hammer" class="w-6 h-6"></i> DIY & ZERO COST</h3>
                                <p class="text-slate-700 font-medium">Menggunakan bahan terbuang untuk mencipta alat bantu kerja. Cth: Klip kertas jadi pengikat kabel.</p>
                            </div>
                        </div>
                        <div class="bg-orange-50 h-64 rounded-xl flex items-center justify-center relative overflow-hidden border-4 border-orange-300">
                             <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black/20 z-10"></div>
                             <div class="flex flex-col items-center text-orange-700">
                                 <i data-lucide="image" class="w-12 h-12 mb-2"></i>
                                 <span>${slide.imagePlaceholder}</span>
                             </div>
                             <span class="absolute bottom-4 left-4 z-20 text-white font-bold bg-orange-600 px-3 py-1 rounded shadow">CONTOH INOVASI</span>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'video_slot_creativity') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-5xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-6 text-white">${slide.title}</h2>
                    <p class="text-orange-200 mb-4 font-bold text-xl uppercase tracking-widest">${slide.subtitle}</p>
                    <div class="w-full bg-black rounded-xl overflow-hidden shadow-2xl border-4 border-orange-600 relative aspect-video flex items-center justify-center group">
                        <div class="absolute inset-0 flex flex-col items-center justify-center bg-slate-900">
                            <i data-lucide="play" class="w-20 h-20 text-white fill-white"></i>
                            <p class="text-slate-400 mt-6 font-mono text-sm">Sila muat naik video: <span class="text-white font-bold">'${slide.videoSrc}'</span></p>
                        </div>
                    </div>
                </div>`;
            } else if (slide.type === 'big_quiz') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-5xl mx-auto px-4 text-center">
                    <div class="flex justify-between w-full mb-6 items-end">
                        <div class="text-left">
                            <p class="text-indigo-300 text-sm font-bold uppercase">MARKAH ANDA</p>
                            <p class="text-4xl font-black text-white">${quizScore} / ${bigQuiz.length}</p>
                        </div>
                        <div class="text-center">
                             <div class="text-6xl font-mono font-black text-white bg-slate-800 px-6 py-2 rounded-xl shadow-2xl border-4 border-indigo-500 timer-pulse leading-none" id="quizTimerDisplay">10:00</div>
                        </div>
                        <div class="text-right">
                            <p class="text-indigo-300 text-sm font-bold uppercase">SOALAN</p>
                            <p class="text-4xl font-black text-white"><span id="qNum">1</span> / 20</p>
                        </div>
                    </div>
                    <div class="bg-white text-slate-900 p-8 rounded-2xl shadow-2xl w-full max-w-4xl relative overflow-hidden animate-slide-up flex-1 flex flex-col justify-center min-h-[400px]">
                        <div class="absolute top-0 left-0 w-full h-3 bg-indigo-500"></div>
                        <h3 class="text-3xl font-bold mb-8 leading-relaxed" id="qText">${bigQuiz[0].q}</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full" id="optionsContainer">
                            ${bigQuiz[0].options.map(opt => `<button onclick="checkBigQuizAnswer(this, '${opt}')" class="bg-slate-100 hover:bg-indigo-100 text-slate-800 font-bold py-4 px-6 rounded-xl border-2 border-slate-200 hover:border-indigo-500 transition-all text-lg text-left shadow-sm">${opt}</button>`).join('')}
                        </div>
                        <div id="feedback" class="mt-4 font-bold text-xl h-8"></div>
                    </div>
                </div>`;
            } else if (slide.type === 'summary_roadmap_animated') {
                html = `
                <div class="flex flex-col items-center justify-center h-full slide-enter w-full max-w-7xl mx-auto px-4 text-center">
                    <h2 class="text-5xl font-bold mb-10 text-white">${slide.title}</h2>
                    <div class="relative w-full bg-slate-800 rounded-3xl p-12 border-2 border-slate-600 overflow-hidden shadow-2xl">
                        
                        <!-- Connecting Line SVG -->
                        <svg class="absolute top-1/2 left-0 w-full h-32 -translate-y-1/2 pointer-events-none z-0">
                            <line x1="10%" y1="50%" x2="90%" y2="50%" stroke="#475569" stroke-width="6" stroke-dasharray="12,12" />
                            <circle cx="10%" cy="50%" r="10" fill="#10b981" class="flow-line">
                                <animate attributeName="cx" values="14%;50%;86%" dur="6s" repeatCount="indefinite" keyTimes="0;0.5;1" />
                            </circle>
                        </svg>

                        <div class="flex justify-between items-start relative z-10 w-full px-8">
                            <!-- Node 1: Slot 1.1 -->
                            <div class="flex flex-col items-center w-1/3 fade-in-delayed" style="animation-delay: 0.5s">
                                <div class="bg-blue-600 p-6 rounded-2xl mb-6 shadow-xl border-4 border-slate-700 w-32 h-32 flex flex-col items-center justify-center hover:scale-110 transition-transform cursor-pointer group relative">
                                    <h3 class="text-white font-black text-3xl group-hover:opacity-0 transition-opacity">1.1</h3>
                                    <i data-lucide="history" class="absolute text-white w-12 h-12 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                </div>
                                <h4 class="text-blue-300 font-bold text-2xl mb-2">KONSEP ASAS</h4>
                                <ul class="text-slate-400 text-sm space-y-1 bg-slate-900/50 p-3 rounded-lg border border-slate-600">
                                    <li>• Evolusi 5S -> EKSA</li>
                                    <li>• 5S (Sisih, Susun, Sapu...)</li>
                                    <li>• Konsep "Muda" (Pembaziran)</li>
                                </ul>
                            </div>

                            <!-- Node 2: Slot 1.2 -->
                            <div class="flex flex-col items-center w-1/3 fade-in-delayed" style="animation-delay: 2.5s">
                                <div class="bg-emerald-600 p-6 rounded-2xl mb-6 shadow-xl border-4 border-slate-700 w-32 h-32 flex flex-col items-center justify-center hover:scale-110 transition-transform cursor-pointer group relative">
                                    <h3 class="text-white font-black text-3xl group-hover:opacity-0 transition-opacity">1.2</h3>
                                    <i data-lucide="sprout" class="absolute text-white w-12 h-12 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                </div>
                                <h4 class="text-emerald-300 font-bold text-2xl mb-2">ELEMEN BAHARU</h4>
                                <ul class="text-slate-400 text-sm space-y-1 bg-slate-900/50 p-3 rounded-lg border border-slate-600">
                                    <li>• Imej Korporat</li>
                                    <li>• Kreativiti & Inovasi</li>
                                    <li>• Amalan Hijau (Go Green)</li>
                                    <li>• Kondusif & Kepelbagaian</li>
                                </ul>
                            </div>

                            <!-- Node 3: Slot 1.3 -->
                            <div class="flex flex-col items-center w-1/3 fade-in-delayed" style="animation-delay: 4.5s">
                                <div class="bg-purple-600 p-6 rounded-2xl mb-6 shadow-xl border-4 border-slate-700 w-32 h-32 flex flex-col items-center justify-center hover:scale-110 transition-transform cursor-pointer group relative">
                                    <h3 class="text-white font-black text-3xl group-hover:opacity-0 transition-opacity">1.3</h3>
                                    <i data-lucide="file-check" class="absolute text-white w-12 h-12 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                </div>
                                <h4 class="text-purple-300 font-bold text-2xl mb-2">HALA TUJU & DASAR</h4>
                                <ul class="text-slate-400 text-sm space-y-1 bg-slate-900/50 p-3 rounded-lg border border-slate-600">
                                    <li>• PKPA Bil. 1 Tahun 2022</li>
                                    <li>• Audit Kendiri (DIY)</li>
                                    <li>• Jawatankuasa Pelaksana</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <p class="mt-8 text-xl text-emerald-200 italic font-light animate-pulse">"Seterusnya: Menterjemah Teori Kepada Pelaksanaan Fizikal (Modul 2)"</p>
                </div>`;
            } else if (slide.type === 'closing') {
                html = `
                <div class="flex flex-col items-center justify-center h-full text-center slide-enter px-4">
                    <div class="bg-emerald-500 p-6 rounded-full mb-6 animate-pulse shadow-[0_0_50px_rgba(16,185,129,0.5)]">
                        <i data-lucide="check" width="64" height="64" class="text-white"></i>
                    </div>
                    <h2 class="text-6xl font-bold mb-4 text-white">MODUL 1 SELESAI</h2>
                    <p class="text-2xl text-emerald-200 mb-8 max-w-2xl">"Anda kini faham KONSEP & BUDAYA. Seterusnya kita belajar PELAKSANAAN FIZIKAL."</p>
                    <a href="modul2.html" class="bg-white text-emerald-900 px-10 py-5 rounded-full font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-3 text-lg group">
                        KE MODUL 2: PELAKSANAAN <i data-lucide="arrow-right" class="group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>`;
            }

            container.innerHTML = html;
            lucide.createIcons();
            updateProgressBar();
            
            if (slide.type === 'big_quiz') {
                currentQuizIndex = 0; 
                quizScore = 0; 
                startBigQuizTimer();
                renderBigQuizQuestion();
            }
        }

        // --- LOGIC FUNCTIONS ---
        
         function updateCalc() {
            const time = document.getElementById('searchTime').value;
            const staff = document.getElementById('staffCount').value;
            document.getElementById('timeVal').innerText = time;
            document.getElementById('staffVal').innerText = staff;
            const totalHours = Math.round((time * staff * 240) / 60);
            animateValue("totalLost", parseInt(document.getElementById('totalLost').innerText), totalHours, 500);
        }

        function animateValue(id, start, end, duration) {
            if (start === end) return;
            const range = end - start;
            let current = start;
            const increment = end > start ? 10 : -10; 
            const stepTime = Math.abs(Math.floor(duration / (range / increment)));
            const obj = document.getElementById(id);
            const timer = setInterval(function() {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                obj.innerHTML = current;
            }, stepTime);
        }

        function startBigQuizTimer() {
            let timeLeft = 600; 
            const display = document.getElementById('quizTimerDisplay');
            if(quizTimerInterval) clearInterval(quizTimerInterval);
            
            display.classList.remove('text-red-500');
            
            quizTimerInterval = setInterval(() => {
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                display.textContent = `${m}:${s < 10 ? '0' : ''}${s}`;
                
                timeLeft--;
                if(timeLeft <= 60) display.classList.add('text-red-500');
                if(timeLeft < 0) {
                    clearInterval(quizTimerInterval);
                    display.textContent = "TAMAT";
                    disableOptions();
                }
            }, 1000);
        }

        function checkBigQuizAnswer(btn, selectedOption) {
            const q = bigQuiz[currentQuizIndex];
            const feedback = document.getElementById('feedback');
            
            const buttons = document.getElementById('optionsContainer').querySelectorAll('button');
            buttons.forEach(b => {
                b.disabled = true;
                if (b.innerText.trim() === q.a) b.classList.add('bg-green-200', 'border-green-500', 'text-green-900');
                else b.classList.add('opacity-50');
            });

            if (selectedOption === q.a) {
                quizScore++;
                feedback.innerHTML = `<span class="text-green-400">TEPAT!</span>`;
                setTimeout(() => {
                    if (currentQuizIndex < bigQuiz.length - 1) {
                        currentQuizIndex++;
                        renderBigQuizQuestion();
                    } else {
                        feedback.innerHTML = `<span class="text-white">TAHNIAH! SKOR AKHIR: ${quizScore}/${bigQuiz.length}</span>`;
                        clearInterval(quizTimerInterval);
                    }
                }, 1500);
            } else {
                 btn.classList.remove('opacity-50');
                 btn.classList.add('bg-red-200', 'border-red-500', 'text-red-900');
                 feedback.innerHTML = `<span class="text-red-400">SALAH!</span>`;
                 setTimeout(() => {
                    if (currentQuizIndex < bigQuiz.length - 1) {
                        currentQuizIndex++;
                        renderBigQuizQuestion();
                    } else {
                        feedback.innerHTML = `<span class="text-white">TAMAT! SKOR AKHIR: ${quizScore}/${bigQuiz.length}</span>`;
                        clearInterval(quizTimerInterval);
                    }
                }, 1500);
            }
        }

        function renderBigQuizQuestion() {
            const q = bigQuiz[currentQuizIndex];
            document.getElementById('qNum').innerText = currentQuizIndex + 1;
            document.getElementById('qText').innerText = `"${q.q}"`;
            document.getElementById('feedback').innerText = "";
            const container = document.getElementById('optionsContainer');
            container.innerHTML = q.options.map(opt => `
                <button onclick="checkBigQuizAnswer(this, '${opt}')" class="bg-slate-100 hover:bg-indigo-100 text-slate-800 font-bold py-4 px-6 rounded-xl border-2 border-slate-200 hover:border-indigo-500 transition-all text-lg text-left shadow-sm">
                    ${opt}
                </button>
            `).join('');
            
             const scoreDisplay = document.querySelector('.text-4xl.font-black.text-white'); 
             if(scoreDisplay) scoreDisplay.innerText = `${quizScore} / ${bigQuiz.length}`;
        }

        function disableOptions() {
             const buttons = document.getElementById('optionsContainer').querySelectorAll('button');
             buttons.forEach(b => b.disabled = true);
        }

        function updateProgressBar() {
            document.getElementById('slideCounter').innerText = `SLAID ${currentSlide + 1} / ${slides.length}`;
            const bar = document.getElementById('progressBar');
            bar.innerHTML = slides.map((_, i) => 
                `<div class="h-2 rounded-full transition-all duration-300 ${i === currentSlide ? 'bg-emerald-500 w-8' : 'bg-slate-300 w-2'}"></div>`
            ).join('');
            const btnPrev = document.getElementById('btnPrev');
            const btnNext = document.getElementById('btnNext');
            btnPrev.disabled = currentSlide === 0;
            if (currentSlide === slides.length - 1) {
                btnNext.style.display = 'none';
            } else {
                btnNext.style.display = 'flex';
                btnNext.innerHTML = 'SETERUSNYA <i data-lucide="arrow-right"></i>';
            }
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
            }
        }

        renderSlide();
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>